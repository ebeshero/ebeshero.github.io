<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
                      "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <title>XML to Cytoscape Tutorial</title>
        <link rel="stylesheet" type="text/css" href="explainThal.css"/> 
    </head>
    <body>
        <div id="space">  
            <div id="title"><h1>An Introduction to Network Analysis and Cytoscape for XML Coders</h1>
            <h4>under construction</h4>
            </div>
            <div id="menu">
                <h4><a href="index.html">Home</a> | <a href="about.html">About</a> | <a href="http://tapasproject.org/sites/default/files/projects/thalaba/16411/Thalaba.xml-teibp.xsl.xml">Thalaba: 1801 edition</a> | <a href="graphs.html">Place-Networks: Graphs and Slides</a> | <a href="cytosc.html">TEI to Network: A Cytoscape Tutorial</a> </h4><div class="boilerplate"><span><strong>Maintained by: </strong> Elisa E. Beshero-Bondar
                    (ebb8 at pitt.edu) <a rel="license"
                        href="http://creativecommons.org/licenses/by-nc-sa/3.0/"><img
                            alt="Creative Commons License" style="border-width:0"
                            src="http://i.creativecommons.org/l/by-nc-sa/3.0/80x15.png"
                        /></a></span><span><strong>Last modified:
                        </strong><script type="application/javascript">
document.write(document.lastModified);
</script></span></div>
            </div>
          
         <h2>Topics Covered in this Tutorial</h2>  
            <ul>
                <li><h3><a href="#whatNet">What is Network Analysis and Why Would XML Coders Want to Try it? And Why You Should Proceed with Caution!</a></h3></li>
                <li><h3><a href="#whyCyt">Why Try Cytoscape?</a></h3></li>
                <li><h3>How to Prepare Data for Import</h3></li>
                <li><h3>How to Import</h3></li>
                <li><h3>What to Do and See with Cytoscape's Network Analyzer</h3></li>
                <li><h3>Filtering Data and Preparing Multiple Visualizations</h3></li>
            </ul>
            <hr/>
            <h3 id="whatNet">What is Network Analysis and Why would XML Coders Want to Try it? And Why You Should Proceed with Caution!</h3>
            <ul>
                <li><p>Network Analysis-- related to Graph Theory. Enormous multidisciplinary subject: from flow and circuit diagrams of electicity or water plumbing (all directed, tree diagrams), protein interactions in biology, language and concepts, publications, websites people--really any "object" (or "node") that can be plotted in a definable relationship (or edge, bridge, connector) with other objects (or nodes). Network scientists and digital humanists don't always think alike about networks, and Scott Weingart warns that digital humanists often risk distortion of information in their eagerness to produce network graphs using tools without sufficient understanding of their defining algorithms, or without strong understanding of the history of network analysis work in multiple fields (see <a href="http://www.themacroscope.org/?page_id=308">"Networks in Historical Research"</a> in <i><a href="http://www.themacroscope.org/">The Historian's Macroscope: Big Digital History</a></i>, eds. S. Graham, I. Milligan, and S. Weingart (web view as seen 2014; print book to be produced in Oct. 2015).</p>
                    <p>The Network Graph is not just the visual plot. More importantly, it's a series of *relationships* with data attached. We'll talk in the next section about why we like Cytoscape--and that's because of its handy Network Analyzer--There's MORE to look at here than we can see in the network software that may seem easier to use. (A serious question is, can we trust the network analyzer?) I have proceeded  </p>
                    
                <p>HAVE A CLEAR RESEARCH QUESTION. The network visualization, like any visualization tool, can produce a distorted summary. You shouldn't use a tool simply because you can, and because it seems trendy (as indeed it is "trendy" in Digital Humanities of the past five years). But use it if it can reveal something interesting. And the revelation doesn't have to be--actually might NOT be--in a particular visual plot. Doing the network analysis to learn the tool and what it's capable of can yield valuable insights, too. I learned much about a) network statistics, and at the same time, b) Robert Southey's references to places in <i>Thalaba the Destroyer</i> by working in Cytoscape.</p>
                
                </li>
                <li></li>
                
            </ul>
           
         
            
            <h3 id="whyCyt">Why Try Cytoscape?</h3>
            <p>Of the open-source network analysis tools available to digital humanists, including Gephi and Palladio, Cytoscape may not seem an obvious choice for beginners to the field, though much may be gained and quickly learned by those willing to explore and customize its many options. Cytoscape is widely used in the biological sciences to analyze complex exchanges of information at the molecular level, and its applications in biology and chemistry have encouraged optimization of Cytoscape’s network graphics, allowing for considerable fine-tuning helpful for projects in many fields. Within the software program, users have a potentially bewildering but impressively diverse range of options for weighting and styling edges, sizing and coloring nodes, fine-tuning the organization of a network graph and filtering it to produce many discreet views is highly optimized and dynamic within the Cytoscape software program. Though some of that fine-tuning may be lost in the effort to export graphs to the web, the Cytoscape programmers as well as independent web developers have been working to produce javascript-based exports of the dynamic plots built in the software. (For those interested in making dynamic network plots available for web view, there is a Cytoscape Javascript Library, which does not offer the same array of graphs (not as many graphs optimized for reading the full range of network statistics supported in th software version). One can easily export labelled static SVG, PNG, or JPG images from Cytoscape’s interface for use in slides or web-based projects.</p><p>With its Network Analyzer tool, Cytoscape is especially helpful for applying many kinds of network statistics, and this makes it especially effective for scholars in any field to study their data by plotting it according to various measures of centrality (betweenness centrality, closeness centrality, Eigenvector centrality) as well as to plot according to network path lengths to arrange one’s data in terms of network measures of “closeness” and "distance." Because Cytoscape offers so many options to visualize network data, its plots are an especially good way to learn and study network statistics as well as to export network graphs optimized for legibility.</p>
            
            
            <p>Most users of Cytoscape work with flat, simple hierarchical databases of information, and import graph data from spreadsheets or simple tables with columns and rows. We who code in XML with its deep nesting apply our markup to generate usually a more complicated kind of database in the branching of our tree structures. We need to prepare our data for view in Cytoscape by performing an extraction of the data we wish to plot from our markup. Since network graphs can plot any kind of relationship involving a shared context of some kind, XML markup may be ideally suited for network plotting, since nested structures provide a basis for understanding shared contexts that form the edges in a network plot.</p>
    <ol>
        <li>Consider, first of all, what phenomena in your text you want to network together as your nodes, and what produces a connection between them as your edges. In a social network analysis, that might involve a study of all the individuals in a text who are shown in conversation with each other at a given moment (or structural unit) of your text. In my “anti-social” network plot of <i>Thalaba</i>, I am studying how the places named and marked in my TEI text are networked together inside line-groups, whether in the lines of poetry or in prose annotations marked within the line-group. So my <strong>nodes</strong> are the places in the line-groups, and my <strong>edges</strong> are determined by the unit line-group, because position in a line-group marks a shared space or context for linkage.</li>
        <li><h4>Preparing Data to Import: </h4> <p>Different network analysis tools (Gephi, Pajek, Cytoscape) require different ways to import data. (This is why, I think, most people tend to use a specific network analysis software package, or work within “R” which produces its own network plots). While Pajek (for example) requires its initial import data in two columns of nodes, Cytoscape requires data to be imported first in <strong>three main columns: Node Edge Node</strong>. That means that you’ll need to write a transformation in XQuery or XSLT to output in plain text a list of nodes, connecting points, and the node to which each is connected, with a separator of some kind. While Cytoscape (like other network software) accepts a range of import formats, the simplest and most reliable format I have found is a plain text file made of columns separated by tabs or commas, saved as .tsv (tab-separated format), or .csv (comma separated format). You could import this text into a spreadsheet program like Microsoft Excel, or any number of programs designed to recognize column layouts.</p>
            <p>When writing your XQuery or XSLT to extract data, for Cytoscape import, I recommend outputting a file that includes <strong>more columns than you need for the first import</strong>, because you can reuse the table to data more than once. What kinds of data would you want to import? Think about how we mark our XML to hold information about structure, context, standard reference points, etc. Analyze your XML file and think about what makes nodes, and what relationships designate connecting edges (the lines between nodes). Does your XML hold information that will help to categorize your nodes a certain way? (For example, in my Thalaba project, I differentiate between “place” and "meta
                
                You are also able to import, <strong>in a second stage</strong>, information about your nodes and edges. In Cytoscape, information that describes qualities of particular nodes or edges is known as <strong>attribute data</strong>, and we can have <strong>node attributes</strong> and <strong>edge attributes</strong>. We can write XSLT or XQuery to output text arrayed in columns with a separator, knowing that we can import data in tab-separated or commma-separated columns. I prepare a single table containing my node data, node attribute data, edge data, edge attribute data, and connected node data and connected attribute data.</p>
            <p>Here is a sampling of my data from the <i>Thalaba</i> project, isolating the node Yemen at Book 4 line-group 218:</p>
           <p> Yemen	place	note	B4_lg218	Earth_planet	place</p>
            <p>Yemen	place	note	B4_lg218	the planet Venus	metaplace</p>
            <p>Yemen	place	note	B4_lg218	Bagdad	place</p>
            <p>Yemen	place	note	B4_lg218	Yemen	place</p>
            <p>Yemen	place	note	B4_lg218	Mecca	place</p>
            <p>Yemen	place	note	B4_lg218	Mecca	place</p>
            <p>Yemen	place	note	B4_lg218	Bombay	place</p>
            <p>Yemen	place	note	B4_lg218	Heaven	metaplace</p>
            
    <p>All of these lines indicate a single node, Yemen, and a set of edges pointing to other places and metaplaces mentioned in the same line-group with Yemen. You need a separate line to indicate each connection. (Generating this tab-separated text output is ideally suited for “pull” XSLT using xsl:for-each, or better yet, XQuery.) [here I will post a link to sample XSLT and XQuery here from my project.]
   </p>        
        
        </li>
        
        <li>[To be continued: How to import: with screen captures.]</li>
    </ol>
            
            
        </div>
        
        
        
    </body>
</html>
        
        
